<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT License. See LICENSE in the project root for license information. -->

<Project DefaultTargets="Build" ToolsVersion="15.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

    <PropertyGroup Label="Globals">
        <ConfigurationType>DynamicLibrary</ConfigurationType>
        <ProjectGuid>{0c22f3e2-d02f-40c7-b7b4-849e21242b94}</ProjectGuid>
    </PropertyGroup>

    <Import Project="$([MSBuild]::GetPathOfFileAbove(Xaml.Cpp.props))"/>
    <Import Project="$(XamlSourcePath)\xcp\projectbase.props"/>
    <Import Project="$(XcpPath)\components\unittest-uielement.props"/>

    <!-- Satisfy "UT", which currently doesn't parse includes. -->
    <!-- UT:TARGETTYPE=DYNLINK                                 -->
    <!-- UT:TARGET_DESTINATION=NTTEST\WINDOWSTEST\dxaml\test   -->
    <PropertyGroup>
        <ProjectIncludeDirectories>
            $(ProjectIncludeDirectories);
            $(XcpPath)\components\collection\inc;
            $(XcpPath)\inc\;
            $(XcpPath)\components\base\inc\;
            $(XcpPath)\components\criticalsection\inc;
            $(XcpPath)\components\deferral\inc\;
            $(XcpPath)\components\objectwriter\inc\;
            $(XcpPath)\components\xstring\inc\;
            $(XcpPath)\components\legacy\inc\;
            $(XcpPath)\components\metadata\inc\;
            $(XcpPath)\components\Parser\inc\;
            $(XcpPath)\components\theming\inc\;
            $(XcpPath)\components\theminginterop\inc\;
            $(XcpPath)\components\metadata\mocks\;
            $(XcpPath)\core\inc\;
            $(XcpPath)\core\Parser\;
            $(XcpPath)\pal\inc\;
            $(XcpPath)\plat\win\common\;
        </ProjectIncludeDirectories>
    </PropertyGroup>

    <ItemGroup>
        <ClInclude Include="CollectionInitializationStringParserUnitTests.h"/>
        <ClInclude Include="HeapMemory.h"/>
        <ClInclude Include="MockParserCoreServices.h"/>
        <ClInclude Include="MockResourceManager.h"/>
        <ClInclude Include="MockUri.h"/>
        <ClInclude Include="ObjectWriterFrameUnitTests.h"/>
        <ClInclude Include="ObjectWriterStackUnitTests.h"/>
        <ClInclude Include="ParserUnitTestIncludes.h"/>
        <ClInclude Include="parserutilities.h"/>
        <ClInclude Include="XamlManagedTypeInfoProviderUnitTests.h"/>
        <ClInclude Include="XamlNativeTypeInfoProviderUnitTests.h"/>
        <ClInclude Include="XamlNodeStreamCacheManagerUnitTests.h"/>
        <ClInclude Include="XamlOptimizedNodeListUnitTests.h"/>
        <ClInclude Include="XamlPredicateServiceUnitTests.h"/>
        <ClInclude Include="xamlpropertyunittests.h"/>
        <ClInclude Include="XamlSchemaContextUnitTests.h"/>
        <ClInclude Include="xamltextparserunittests.h"/>
        <ClInclude Include="Xbf2MetadataUnitTests.h"/>
        <ClInclude Include="XbfVersioningUnitTests.h"/>

        <ClCompile Include="CollectionInitializationStringParserUnitTests.cpp"/>
        <ClCompile Include="MockUri.cpp"/>
        <ClCompile Include="MockResourceManager.cpp"/>
        <ClCompile Include="MockParserCoreServices.cpp"/>
        <ClCompile Include="ParserUtilities.cpp"/>
        <ClCompile Include="XamlSchemaContextUnitTests.cpp"/>
        <ClCompile Include="XamlOptimizedNodeListUnitTests.cpp"/>
        <ClCompile Include="XamlTextParserUnitTests.cpp"/>
        <ClCompile Include="XamlPropertyUnitTests.cpp"/>
        <ClCompile Include="XamlManagedTypeInfoProviderUnitTests.cpp"/>
        <ClCompile Include="XamlNativeTypeInfoProviderUnitTests.cpp"/>
        <ClCompile Include="XamlNodeStreamCacheManagerUnitTests.cpp"/>
        <ClCompile Include="Xbf2MetadataUnitTests.cpp"/>
        <ClCompile Include="ObjectWriterFrameUnitTests.cpp"/>
        <ClCompile Include="ObjectWriterStackUnitTests.cpp"/>
        <ClCompile Include="Stubs.cpp"/>
        <ClCompile Include="XamlPredicateServiceUnitTests.cpp"/>
        <ClCompile Include="HeapMemory.cpp"/>
        <ClCompile Include="XbfVersioningUnitTests.cpp"/>
    </ItemGroup>

    <ItemDefinitionGroup>
        <Link>
            <AdditionalDependencies>
                %(AdditionalDependencies);
                xmllite.lib;
                wininet.lib;
            </AdditionalDependencies>
        </Link>
    </ItemDefinitionGroup>

    <ItemGroup>
        <ProjectReference Include="$(XcpPath)\components\pch\ut\Microsoft.UI.Xaml.Precomp.vcxproj" Project="{0ee23677-77e1-49c9-8b89-ad1a1fd0c6f4}"/>
        <ProjectReference Include="$(XamlSourcePath)\xcp\components\winuri\lib\winuri.vcxproj" Project="{0c3c2872-56a3-4acf-b2f7-8c05710b93ae}"/>
        <ProjectReference Include="$(XamlSourcePath)\xcp\components\mrt\lib\Microsoft.UI.Xaml.Mrt.vcxproj" Project="{dd66fbf9-b48e-41ae-bcee-b2548e39001b}"/>
        <ProjectReference Include="$(XamlSourcePath)\xcp\components\deferral\lib\Microsoft.UI.Xaml.Deferral.vcxproj" Project="{b686a4d4-ef60-411c-98c7-fd43225dc80f}"/>
        <ProjectReference Include="$(XamlSourcePath)\xcp\components\colors\lib\Microsoft.UI.Xaml.Colors.vcxproj" Project="{6b5aed1f-fd5d-47bc-9b9a-37d56e2c2e97}"/>
        <ProjectReference Include="$(XamlSourcePath)\xcp\components\runtimeEnabledFeatures\lib\Microsoft.UI.Xaml.RuntimeEnabledFeatures.vcxproj" Project="{968dc6e1-0f0a-4211-97cc-57ab0754206b}"/>
        <ProjectReference Include="$(XamlSourcePath)\xcp\components\legacy\lib\Microsoft.UI.Xaml.Legacy.vcxproj" Project="{95d07701-4af9-48e5-b726-0d42034811c8}"/>
        <ProjectReference Include="$(XamlSourcePath)\xcp\components\transforms\lib\Microsoft.UI.Xaml.Transforms.vcxproj" Project="{365cdabf-7f04-445d-a598-ba372821b5a6}"/>
        <ProjectReference Include="$(XamlSourcePath)\xcp\core\parser\core\Parser.Core.vcxproj" Project="{4c54ca57-3fdb-4bd4-a5cd-6f89f8f3d46b}"/>
        <ProjectReference Include="$(XamlSourcePath)\xcp\components\text\lib\Microsoft.UI.Xaml.Text.vcxproj" Project="{df854298-841f-4dd5-9ddf-fefbc280a6d1}"/>
    </ItemGroup>

    <Import Project="$([MSBuild]::GetPathOfFileAbove(Microsoft.UI.Xaml.Build.targets))" />
</Project>
